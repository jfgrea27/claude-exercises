use flake

# Python setup with uv
layout_python_uv() {
  if [ ! -d $PWD/.venv ]; then
    uv venv .venv --python 3.11
  fi
  source .venv/bin/activate

  export PATH=$PWD/.venv/bin:$PATH
  
  # Install dependencies if pyproject.toml exists
  if [ -f pyproject.toml ]; then
    uv sync --extra dev
  fi
}

export VIRTUAL_ENV=$PWD/.venv

layout_python_uv
